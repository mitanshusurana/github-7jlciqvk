import{c as j,r as d,j as e,X as F,V as I,R as ae,e as le,u as ie,L as ne}from"./index-C7K5_SAF.js";import{u as re}from"./useProducts-C5YlCcmQ.js";import{c as te,a as R,f as q,F as oe,d as ce,e as l,E as k,g as E}from"./index.esm-2mC9jFLe.js";import{D as me,H as de,u as he,a as xe,G as je}from"./index-DyplYX8R.js";import{Q as V,H as ge}from"./html5-qrcode-scanner-LclRLQ9C.js";import{P as H}from"./package-Dzl7512Q.js";import{P as fe}from"./plus-Cs42k0fu.js";import{C as Ne}from"./calendar-C-8Kp2A-.js";import{D as z}from"./dollar-sign-DujENY7H.js";import{A as be}from"./arrow-left-qHkVor9I.js";import"./productService-CSvu92TM.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=j("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=j("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=j("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=j("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=j("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=j("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=j("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=j("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=j("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=j("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=j("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=j("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=j("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=j("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]),Ce=s=>{const m=new Date,n=m.getFullYear().toString().slice(-2),g=(m.getMonth()+1).toString().padStart(2,"0"),f=m.getDate().toString().padStart(2,"0"),y=m.getTime().toString().slice(-4),N=Math.random().toString(36).substr(2,3).toUpperCase();return`${{LooseStone:"GEM",CarvedIdol:"ART",Jewelry:"JWL"}[s]}-${n}${g}${f}-${y}${N}`},we=s=>!(!s||s.trim().length===0||!/^[a-zA-Z0-9_-]+$/.test(s)||s.length<3||s.length>50),Te=s=>{try{const n=new URL(s).pathname.split("/"),g=n.indexOf("product");if(g!==-1&&n[g+1])return n[g+1]}catch{}return s.trim()},Pe=({value:s,onChange:m,onValidation:n,placeholder:g="Enter product ID or scan QR code",disabled:f=!1,existingIds:y=[],generateId:N})=>{const[b,u]=d.useState(!1),[p,C]=d.useState(!1),[i,t]=d.useState("idle"),[v,a]=d.useState(""),[h,c]=d.useState("unknown"),r=d.useRef(null),x=d.useRef(!1),S="product-id-qr-region",w=d.useCallback(async o=>{if(!o.trim()){t("idle"),a(""),n==null||n(!1);return}if(C(!0),!we(o)){t("invalid"),a("ID must be 3-50 characters: letters, numbers, dashes, and underscores only"),n==null||n(!1,"Invalid format"),C(!1);return}if(y.includes(o)){t("duplicate"),a("This ID already exists"),n==null||n(!1,"Duplicate ID"),C(!1);return}t("valid"),a("ID is available"),n==null||n(!0),C(!1)},[y,n]);d.useEffect(()=>{const o=setTimeout(()=>{w(s)},300);return()=>clearTimeout(o)},[s,w]);const T=d.useCallback(async()=>{if(r.current)try{x.current&&await r.current.stop(),await r.current.clear()}catch(o){console.warn("Error stopping QR scanner:",o)}finally{r.current=null,x.current=!1}},[]);d.useEffect(()=>()=>{T()},[T]),d.useEffect(()=>{let o=!1;return(async()=>{if(b&&!r.current&&document.getElementById(S)){const B=new ge(S);r.current=B;try{await B.start({facingMode:"environment"},{fps:10,qrbox:250},async P=>{if(o)return;console.log("QR decoded value:",P);const G=Te(P);m(G),u(!1),I.success("QR code scanned successfully!")},P=>{}),x.current=!0}catch(P){console.error("Error starting QR scanner:",P);const G=P;G.name==="NotAllowedError"?I.error("Camera permission denied. Please allow camera access and try again."):G.name==="NotFoundError"?I.error("No camera found on this device."):G.name==="NotSupportedError"?I.error("Camera not supported on this device."):I.error("Failed to start camera. Please check permissions and try again."),u(!1),r.current=null,x.current=!1}}!b&&r.current&&x.current&&T()})(),()=>{o=!0}},[b,m,T]);const Z=()=>{if(N){const o=N();m(o),I.success("New ID generated")}},X=async()=>{try{const o=await navigator.permissions.query({name:"camera"});c(o.state==="granted"?"granted":"denied"),o.state==="denied"?I.error("Camera permission denied. Please enable camera access in browser settings."):o.state==="granted"&&I.success("Camera permission granted!")}catch{c("unknown")}},ee=()=>{if(p)return e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"});switch(i){case"valid":return e.jsx(W,{className:"h-4 w-4 text-green-600"});case"invalid":case"duplicate":return e.jsx(Q,{className:"h-4 w-4 text-red-600"});default:return null}},se=()=>{const o="form-input pr-24";switch(i){case"valid":return`${o} border-green-300 focus:border-green-500 focus:ring-green-500`;case"invalid":case"duplicate":return`${o} border-red-300 focus:border-red-500 focus:ring-red-500`;default:return o}};return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(D,{className:"h-4 w-4 text-neutral-400"})}),e.jsx("input",{type:"text",value:s,onChange:o=>m(o.target.value),placeholder:g,disabled:f,className:`${se()} pl-10`}),e.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center",children:[e.jsx("div",{className:"pr-2",children:ee()}),e.jsx("button",{type:"button",onClick:()=>{h==="denied"?X():u(!b)},disabled:f,className:`p-2 disabled:opacity-50 ${h==="denied"?"text-red-400 hover:text-red-600":"text-neutral-400 hover:text-neutral-600"}`,title:h==="denied"?"Camera permission required":"Scan QR Code",children:e.jsx(V,{className:"h-4 w-4"})}),N&&e.jsx("button",{type:"button",onClick:Z,disabled:f,className:"p-2 mr-2 text-neutral-400 hover:text-neutral-600 disabled:opacity-50",title:"Generate New ID",children:e.jsx(D,{className:"h-4 w-4"})})]})]}),v&&e.jsxs("div",{className:`text-sm flex items-center ${i==="valid"?"text-green-600":"text-red-600"}`,children:[i==="valid"?e.jsx(W,{className:"h-3 w-3 mr-1"}):e.jsx(Q,{className:"h-3 w-3 mr-1"}),v]}),b&&e.jsxs("div",{className:"border border-neutral-200 rounded-lg p-4 bg-neutral-50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-neutral-900",children:"Scan QR Code"}),e.jsx("button",{type:"button",onClick:()=>u(!1),className:"text-neutral-400 hover:text-neutral-600",children:e.jsx(F,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{id:S,style:{width:300}})}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx("div",{className:"text-xs text-neutral-500 text-center",children:"Position the QR code within the frame to scan automatically"}),e.jsx("div",{className:"text-xs text-blue-600 text-center",children:"ðŸ’¡ If camera doesn't start, please allow camera permissions in your browser"})]})]}),e.jsx("div",{className:"text-xs text-neutral-500",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("span",{children:"â€¢ Type a unique product ID"}),e.jsxs("span",{children:["â€¢ Click ",e.jsx(V,{className:"h-3 w-3 inline mx-1"})," to scan QR code"]}),N&&e.jsxs("span",{children:["â€¢ Click ",e.jsx(D,{className:"h-3 w-3 inline mx-1"})," to generate ID"]})]})})]})},Ge=["Diamond","Ruby","Sapphire","Emerald","Tanzanite","Tourmaline","Garnet","Amethyst","Citrine","Peridot","Aquamarine","Topaz","Opal","Jade","Onyx","Agate","Spinel","Moonstone","Labradorite","Sunstone","Other"],J={Sapphire:["Blue Sapphire","Pink Sapphire","Yellow Sapphire","White Sapphire","Padparadscha","Star Sapphire"],Ruby:["Pigeon Blood Ruby","Burmese Ruby","Thai Ruby","Star Ruby"],Diamond:["White Diamond","Yellow Diamond","Brown Diamond","Pink Diamond","Blue Diamond","Green Diamond","Black Diamond"],Emerald:["Colombian Emerald","Zambian Emerald","Brazilian Emerald"],Tourmaline:["Pink Tourmaline","Green Tourmaline","Blue Tourmaline","Watermelon Tourmaline","Paraiba Tourmaline"],Garnet:["Almandine","Pyrope","Spessartite","Grossular","Andradite","Tsavorite","Demantoid"],Other:["Custom Variety"]},ke=["Burma/Myanmar","Sri Lanka/Ceylon","Thailand","Cambodia","Madagascar","Tanzania","Kenya","Mozambique","Brazil","Colombia","Zambia","Afghanistan","Pakistan","India","Australia","USA","Russia","South Africa","Botswana","Canada","Unknown","Other"],Ee=["Round","Oval","Emerald Cut","Princess","Asscher","Marquise","Pear","Heart","Cushion","Radiant","Baguette","Trillion","Cabochon","Rose Cut","Antique Cushion","Freeform","Other"],De=["Excellent","Very Good","Good","Fair","Poor"],M={Diamond:["D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Sapphire:["Cornflower Blue","Royal Blue","Navy Blue","Light Blue","Teal Blue","Greenish Blue"],Ruby:["Pigeon Blood","Deep Red","Medium Red","Light Red","Pinkish Red"],Emerald:["Vivid Green","Deep Green","Medium Green","Light Green","Bluish Green","Yellowish Green"],Other:["Excellent","Very Good","Good","Fair","Poor"]},Re=["Excellent","Very Good","Good","Fair","Poor"],Ae=["Excellent","Very Good","Good","Fair","Poor"],Le=["None","Faint","Slight","Medium","Strong","Very Strong"],Me=["Jade","Quartz","Amethyst","Rose Quartz","Citrine","Agate","Onyx","Marble","Granite","Soapstone","Obsidian","Turquoise","Malachite","Lapis Lazuli","Tiger Eye","Carnelian","Jasper","Fluorite","Serpentine","Other"],Oe=["Chinese","Indian","Tibetan","Japanese","Thai","Burmese","Nepalese","Indonesian","African","Mayan","Aztec","Native American","Western","Contemporary","Other"],Fe=["Buddha","Ganesha","Shiva","Vishnu","Krishna","Durga","Lakshmi","Saraswati","Quan Yin","Dragon","Phoenix","Lion","Elephant","Abstract Figure","Geometric Pattern","Other"],Be=["Hand Carved","Machine Carved","Combined Hand/Machine","Relief Carving","In-the-Round","Pierced Carving","Inlay Work","Engraving","Other"],qe=["Contemporary (1980-present)","Modern (1960-1980)","Mid-Century (1940-1960)","Early Modern (1900-1940)","Colonial (1800-1900)","Qing Dynasty (1644-1912)","Ming Dynasty (1368-1644)","Ancient (Before 1368)","Unknown"],Ve=["Yellow","White","Rose","Two-Tone","Three-Tone","Natural","Rhodium Plated"],O={Gold:["10K","14K","18K","22K","24K"],Silver:["925 Sterling","999 Fine Silver"],Platinum:["PT900","PT950","PT999"],Palladium:["PD500","PD950"],Other:["Not Applicable"]},He=["None","Rhodium","Gold","Rose Gold","Silver","Platinum","Other"],ze=["Direct Mine","Certified Dealer","Auction House","Estate Sale","Trade Show","Online Marketplace","Private Collection","Other"],Qe=["Main Vault","Display Case A","Display Case B","Display Case C","Safe Deposit Box","Photography Studio","Repair Workshop","Temporary Storage","Off-site Storage","Customer Location","Other"],We=["Luxury Goods","Precious Metals","Gemstones","Jewelry","Art & Collectibles","Standard Rate","Exempt","Other"],Ue=["GIA (Gemological Institute of America)","AGS (American Gem Society)","GÃ¼belin","SSEF (Swiss Gemmological Institute)","GRS (Gem Research Swisslab)","Lotus Gemology","AGL (American Gemological Laboratories)","GCAL (Gem Certification and Assurance Lab)","EGL (European Gemological Laboratory)","IGI (International Gemological Institute)","Other","Not Certified"],_e=["None/Natural","Heat Treatment","Oil/Resin Filling","Fracture Filling","Irradiation","Diffusion","HTHP (High Temperature High Pressure)","Clarity Enhancement","Color Enhancement","Surface Coating","Other"],K={MEDIA:"media"},Y=({item:s,index:m,moveItem:n,removeItem:g})=>{const f=ae.useRef(null),[,y]=he({accept:K.MEDIA,hover(p){p.index!==m&&(n(p.index,m),p.index=m)}}),[{isDragging:N},b,u]=xe({type:K.MEDIA,item:{index:m},collect:p=>({isDragging:p.isDragging()})});return b(y(f)),e.jsx("div",{ref:u,style:{opacity:N?.5:1},className:"relative",children:e.jsxs("div",{ref:f,className:"relative group",children:[s.type==="image"?e.jsx("img",{src:s.url,className:"w-24 h-24 object-cover rounded-lg border-2 border-neutral-200",alt:"Product"}):e.jsx("video",{src:s.url,className:"w-24 h-24 object-cover rounded-lg border-2 border-neutral-200"}),e.jsx("button",{type:"button",onClick:()=>g(m),className:"absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(F,{className:"h-3 w-3"})}),e.jsx("div",{className:"absolute top-1 left-1 bg-black/50 p-1 rounded cursor-grab active:cursor-grabbing opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(je,{className:"h-3 w-3 text-white"})})]})})},$e=({product:s,onSubmit:m})=>{const[n,g]=d.useState((s==null?void 0:s.productType)||"LooseStone"),[f,y]=d.useState(!1),N=d.useCallback(()=>Ce(n),[n]),b=d.useCallback(i=>{var v,a,h,c,r;const t={id:(s==null?void 0:s.id)||"",name:(s==null?void 0:s.name)||"",description:(s==null?void 0:s.description)||"",acquisitionDate:(s==null?void 0:s.acquisitionDate)||new Date().toISOString().split("T")[0],supplier:(s==null?void 0:s.supplier)||"",cost:(s==null?void 0:s.cost)||0,price:(s==null?void 0:s.price)||0,markup:(s==null?void 0:s.markup)||0,storageLocation:(s==null?void 0:s.storageLocation)||"",condition:(s==null?void 0:s.condition)||"New",reservationStatus:(s==null?void 0:s.reservationStatus)||"Available",seoTitle:(s==null?void 0:s.seoTitle)||"",seoDescription:(s==null?void 0:s.seoDescription)||"",tags:(s==null?void 0:s.tags)||[],categoryHierarchy:(s==null?void 0:s.categoryHierarchy)||"",images:(s==null?void 0:s.images)||[],videos:(s==null?void 0:s.videos)||[],platformIds:{shopifyId:((v=s==null?void 0:s.platformIds)==null?void 0:v.shopifyId)||"",etsyId:((a=s==null?void 0:s.platformIds)==null?void 0:a.etsyId)||"",ebayId:((h=s==null?void 0:s.platformIds)==null?void 0:h.ebayId)||"",amazonId:((c=s==null?void 0:s.platformIds)==null?void 0:c.amazonId)||"",googleShoppingId:((r=s==null?void 0:s.platformIds)==null?void 0:r.googleShoppingId)||""},auditTrail:(s==null?void 0:s.auditTrail)||[],insuranceValue:(s==null?void 0:s.insuranceValue)||0,appraisalDate:(s==null?void 0:s.appraisalDate)||"",taxCategory:(s==null?void 0:s.taxCategory)||"",inventoryQuantity:(s==null?void 0:s.inventoryQuantity)||1,reorderThreshold:(s==null?void 0:s.reorderThreshold)||5};return n==="LooseStone"?{...t,productType:"LooseStone",gemstoneType:(s==null?void 0:s.gemstoneType)||"",variety:(s==null?void 0:s.variety)||"",origin:(s==null?void 0:s.origin)||"",creationMethod:(s==null?void 0:s.creationMethod)||"Natural",certificationId:(s==null?void 0:s.certificationId)||"",certificationLab:(s==null?void 0:s.certificationLab)||"",treatmentType:(s==null?void 0:s.treatmentType)||"",caratWeight:(s==null?void 0:s.caratWeight)??0,dimensions:(s==null?void 0:s.dimensions)||"",shape:(s==null?void 0:s.shape)||"",cutGrade:(s==null?void 0:s.cutGrade)||"",colorGrade:(s==null?void 0:s.colorGrade)||"",clarityGrade:(s==null?void 0:s.clarityGrade)||"VS1",fluorescence:(s==null?void 0:s.fluorescence)||"",polish:(s==null?void 0:s.polish)||"",symmetry:(s==null?void 0:s.symmetry)||"",quantity:(s==null?void 0:s.quantity)??1,lotNumber:(s==null?void 0:s.lotNumber)||""}:n==="CarvedIdol"?{...t,productType:"CarvedIdol",material:(s==null?void 0:s.material)||"",culturalSignificance:(s==null?void 0:s.culturalSignificance)||"",deityFigure:(s==null?void 0:s.deityFigure)||"",carvingStyle:(s==null?void 0:s.carvingStyle)||"Traditional",origin:(s==null?void 0:s.origin)||"",dimensions:(s==null?void 0:s.dimensions)||"",weight:(s==null?void 0:s.weight)??0,finishType:(s==null?void 0:s.finishType)||"Polished",carvingDetailLevel:(s==null?void 0:s.carvingDetailLevel)||"",baseIncluded:(s==null?void 0:s.baseIncluded)??!1,colorDescription:(s==null?void 0:s.colorDescription)||"",artisan:(s==null?void 0:s.artisan)||"",carvingTechnique:(s==null?void 0:s.carvingTechnique)||"",agePeriod:(s==null?void 0:s.agePeriod)||"",rarity:(s==null?void 0:s.rarity)||"Common",workmanshipGrade:(s==null?void 0:s.workmanshipGrade)||"Standard"}:{...t,productType:"Jewelry",category:(s==null?void 0:s.category)||"Ring",style:(s==null?void 0:s.style)||"Solitaire",brand:(s==null?void 0:s.brand)||"",collection:(s==null?void 0:s.collection)||"",metal:(s==null?void 0:s.metal)||"Gold",metalPurity:(s==null?void 0:s.metalPurity)||"",metalWeight:(s==null?void 0:s.metalWeight)??0,metalColor:(s==null?void 0:s.metalColor)||"",hallmark:(s==null?void 0:s.hallmark)||"14K",plating:(s==null?void 0:s.plating)||"",gemstones:(s==null?void 0:s.gemstones)||[],ringSize:(s==null?void 0:s.ringSize)??0,length:(s==null?void 0:s.length)??0,adjustable:(s==null?void 0:s.adjustable)??!1,sizeRange:(s==null?void 0:s.sizeRange)||"",laborCost:(s==null?void 0:s.laborCost)??0,warranty:(s==null?void 0:s.warranty)||"None"}},[s,n,N]),u=te().shape({id:R().required("Product ID is required").matches(/^[a-zA-Z0-9_-]+$/,"ID can only contain letters, numbers, dashes, and underscores"),name:R(),description:R(),cost:q().min(0,"Cost must be positive"),price:q().min(0,"Price must be positive")}),p=i=>{switch(i.productType){case"LooseStone":const t=i;return[t.gemstoneType,t.variety,t.shape,`${t.caratWeight}ct`].filter(Boolean).join(" ");case"CarvedIdol":const v=i;return[v.material,v.deityFigure,"Idol"].filter(Boolean).join(" ");case"Jewelry":const a=i;return[a.metal,a.category,a.style].filter(Boolean).join(" ");default:return""}},C=(i,t,v)=>(d.useEffect(()=>{const a=p(i);a&&t("name",a)},[i,t]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-bold text-neutral-900 mb-6 border-b pb-2",children:"Basic Info"}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("h3",{className:"text-sm font-medium text-blue-900 mb-3 flex items-center",children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),"Product Identification"]}),e.jsx(Pe,{value:i.id,onChange:a=>t("id",a),onValidation:(a,h)=>{y(a),h&&console.log("ID validation error:",h)},placeholder:"Enter unique product ID or scan QR code",existingIds:[],generateId:N})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"productType",className:"form-label",children:[e.jsx(H,{className:"h-4 w-4 inline mr-2"}),"Product Type"]}),e.jsxs(l,{as:"select",name:"productType",className:"form-select",value:n,onChange:a=>{const h=a.target.value,c=i.id;g(h);const r=b(h);v({...r,id:c})},children:[e.jsx("option",{value:"LooseStone",children:"Loose Gemstone"}),e.jsx("option",{value:"CarvedIdol",children:"Carved Idol"}),e.jsx("option",{value:"Jewelry",children:"Jewelry"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"condition",className:"form-label",children:[e.jsx(Se,{className:"h-4 w-4 inline mr-2"}),"Condition"]}),e.jsxs(l,{as:"select",name:"condition",className:"form-select",children:[e.jsx("option",{value:"New",children:"New"}),e.jsx("option",{value:"Used",children:"Used"}),e.jsx("option",{value:"Antique",children:"Antique"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"name",className:"form-label",children:[e.jsx(Ie,{className:"h-4 w-4 inline mr-2"}),"Product Name"]}),e.jsx(l,{name:"name",className:"form-input",placeholder:"Enter product name",readOnly:!0}),e.jsx(k,{name:"name",component:"div",className:"text-red-600 text-sm mt-1"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"description",className:"form-label",children:"Description"}),e.jsx(l,{name:"description",as:"textarea",rows:4,className:"form-textarea",placeholder:"Detailed product description"}),e.jsx(k,{name:"description",component:"div",className:"text-red-600 text-sm mt-1"})]}),n==="LooseStone"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(U,{className:"h-4 w-4 inline mr-2"}),"Gemstone Type"]}),e.jsxs(l,{as:"select",name:"gemstoneType",className:"form-select",children:[e.jsx("option",{value:"",children:"Select gemstone type"}),Ge.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Variety"}),e.jsxs(l,{as:"select",name:"variety",className:"form-select",children:[e.jsx("option",{value:"",children:"Select variety"}),i.productType==="LooseStone"&&i.gemstoneType&&J[i.gemstoneType]?J[i.gemstoneType].map(a=>e.jsx("option",{value:a,children:a},a)):null,e.jsx("option",{value:"Other",children:"Other (specify in description)"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(_,{className:"h-4 w-4 inline mr-2"}),"Origin"]}),e.jsxs(l,{as:"select",name:"origin",className:"form-select",children:[e.jsx("option",{value:"",children:"Select origin"}),ke.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Creation Method"}),e.jsxs(l,{as:"select",name:"creationMethod",className:"form-select",children:[e.jsx("option",{value:"Natural",children:"Natural"}),e.jsx("option",{value:"Lab-Grown",children:"Lab-Grown"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Shape"}),e.jsxs(l,{as:"select",name:"shape",className:"form-select",children:[e.jsx("option",{value:"",children:"Select shape"}),Ee.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Certification Lab"}),e.jsxs(l,{as:"select",name:"certificationLab",className:"form-select",children:[e.jsx("option",{value:"",children:"Select certification lab"}),Ue.map(a=>e.jsx("option",{value:a,children:a},a))]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Certification ID"}),e.jsx(l,{name:"certificationId",className:"form-input",placeholder:"Certificate number (e.g., GIA-1234567890)"})]})]}),n==="CarvedIdol"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Material"}),e.jsxs(l,{as:"select",name:"material",className:"form-select",children:[e.jsx("option",{value:"",children:"Select material"}),Me.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Cultural Significance"}),e.jsxs(l,{as:"select",name:"culturalSignificance",className:"form-select",children:[e.jsx("option",{value:"",children:"Select cultural significance"}),Oe.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Deity/Figure"}),e.jsxs(l,{as:"select",name:"deityFigure",className:"form-select",children:[e.jsx("option",{value:"",children:"Select deity/figure"}),Fe.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Carving Style"}),e.jsxs(l,{as:"select",name:"carvingStyle",className:"form-select",children:[e.jsx("option",{value:"Traditional",children:"Traditional"}),e.jsx("option",{value:"Modern",children:"Modern"}),e.jsx("option",{value:"Abstract",children:"Abstract"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Carving Technique"}),e.jsxs(l,{as:"select",name:"carvingTechnique",className:"form-select",children:[e.jsx("option",{value:"",children:"Select technique"}),Be.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Age Period"}),e.jsxs(l,{as:"select",name:"agePeriod",className:"form-select",children:[e.jsx("option",{value:"",children:"Select age period"}),qe.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Artisan"}),e.jsx(l,{name:"artisan",className:"form-input",placeholder:"Artist name (if known)"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Rarity"}),e.jsxs(l,{as:"select",name:"rarity",className:"form-select",children:[e.jsx("option",{value:"Common",children:"Common"}),e.jsx("option",{value:"Uncommon",children:"Uncommon"}),e.jsx("option",{value:"Rare",children:"Rare"}),e.jsx("option",{value:"Very Rare",children:"Very Rare"}),e.jsx("option",{value:"Unique",children:"Unique"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Geographic Origin"}),e.jsx(l,{name:"origin",className:"form-input",placeholder:"e.g., India, China"})]})]}),n==="Jewelry"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Category"}),e.jsxs(l,{as:"select",name:"category",className:"form-select",children:[e.jsx("option",{value:"Ring",children:"Ring"}),e.jsx("option",{value:"Necklace",children:"Necklace"}),e.jsx("option",{value:"Bracelet",children:"Bracelet"}),e.jsx("option",{value:"Earrings",children:"Earrings"}),e.jsx("option",{value:"Pendant",children:"Pendant"}),e.jsx("option",{value:"Brooch",children:"Brooch"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Style"}),e.jsxs(l,{as:"select",name:"style",className:"form-select",children:[e.jsx("option",{value:"Solitaire",children:"Solitaire"}),e.jsx("option",{value:"Halo",children:"Halo"}),e.jsx("option",{value:"Vintage",children:"Vintage"}),e.jsx("option",{value:"Modern",children:"Modern"}),e.jsx("option",{value:"Three-Stone",children:"Three-Stone"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Metal"}),e.jsxs(l,{as:"select",name:"metal",className:"form-select",children:[e.jsx("option",{value:"Gold",children:"Gold"}),e.jsx("option",{value:"Silver",children:"Silver"}),e.jsx("option",{value:"Platinum",children:"Platinum"}),e.jsx("option",{value:"Palladium",children:"Palladium"}),e.jsx("option",{value:"Titanium",children:"Titanium"}),e.jsx("option",{value:"Tungsten",children:"Tungsten"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Brand"}),e.jsx(l,{name:"brand",className:"form-input",placeholder:"Brand name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Collection"}),e.jsx(l,{name:"collection",className:"form-input",placeholder:"Collection name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Hallmark"}),e.jsxs(l,{as:"select",name:"hallmark",className:"form-select",children:[e.jsx("option",{value:"925",children:"925 (Sterling Silver)"}),e.jsx("option",{value:"10K",children:"10K Gold"}),e.jsx("option",{value:"14K",children:"14K Gold"}),e.jsx("option",{value:"18K",children:"18K Gold"}),e.jsx("option",{value:"PT950",children:"PT950 Platinum"})]})]})]})]}),e.jsxs("div",{className:"space-y-6 pt-8 mt-8 border-t",children:[e.jsx("h2",{className:"text-xl font-bold text-neutral-900 mb-6 border-b pb-2",children:"Physical Attributes"}),n==="LooseStone"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(L,{className:"h-4 w-4 inline mr-2"}),"Carat Weight"]}),e.jsx(l,{type:"number",step:"0.01",name:"caratWeight",className:"form-input",placeholder:"0.00"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx($,{className:"h-4 w-4 inline mr-2"}),"Dimensions (mm)"]}),e.jsx(l,{name:"dimensions",className:"form-input",placeholder:"L x W x H (e.g., 10.5 x 8.2 x 5.1)"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Quantity"}),e.jsx(l,{type:"number",name:"quantity",className:"form-input",placeholder:"1"})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h4",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Grading & Quality"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Clarity Grade"}),e.jsxs(l,{as:"select",name:"clarityGrade",className:"form-select",children:[e.jsx("option",{value:"FL",children:"FL (Flawless)"}),e.jsx("option",{value:"IF",children:"IF (Internally Flawless)"}),e.jsx("option",{value:"VVS1",children:"VVS1 (Very Very Slightly Included 1)"}),e.jsx("option",{value:"VVS2",children:"VVS2 (Very Very Slightly Included 2)"}),e.jsx("option",{value:"VS1",children:"VS1 (Very Slightly Included 1)"}),e.jsx("option",{value:"VS2",children:"VS2 (Very Slightly Included 2)"}),e.jsx("option",{value:"SI1",children:"SI1 (Slightly Included 1)"}),e.jsx("option",{value:"SI2",children:"SI2 (Slightly Included 2)"}),e.jsx("option",{value:"I1",children:"I1 (Included 1)"}),e.jsx("option",{value:"I2",children:"I2 (Included 2)"}),e.jsx("option",{value:"I3",children:"I3 (Included 3)"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Color Grade"}),e.jsxs(l,{as:"select",name:"colorGrade",className:"form-select",children:[e.jsx("option",{value:"",children:"Select color grade"}),i.productType==="LooseStone"&&i.gemstoneType&&M[i.gemstoneType]?M[i.gemstoneType].map(a=>e.jsx("option",{value:a,children:a},a)):M.Other.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Cut Grade"}),e.jsxs(l,{as:"select",name:"cutGrade",className:"form-select",children:[e.jsx("option",{value:"",children:"Select cut grade"}),De.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Polish"}),e.jsxs(l,{as:"select",name:"polish",className:"form-select",children:[e.jsx("option",{value:"",children:"Select polish grade"}),Re.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Symmetry"}),e.jsxs(l,{as:"select",name:"symmetry",className:"form-select",children:[e.jsx("option",{value:"",children:"Select symmetry grade"}),Ae.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Fluorescence Level"}),e.jsxs(l,{as:"select",name:"fluorescence",className:"form-select",children:[e.jsx("option",{value:"",children:"Select fluorescence"}),Le.map(a=>e.jsx("option",{value:a,children:a},a))]})]})]})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h4",{className:"text-lg font-medium text-neutral-900 mb-4",children:"Treatment Information"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Treatment Type"}),e.jsxs(l,{as:"select",name:"treatmentType",className:"form-select",children:[e.jsx("option",{value:"",children:"Select treatment"}),_e.map(a=>e.jsx("option",{value:a,children:a},a))]})]})})]})]}),n==="CarvedIdol"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx($,{className:"h-4 w-4 inline mr-2"}),"Dimensions"]}),e.jsx(l,{name:"dimensions",className:"form-input",placeholder:"L x W x H"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(L,{className:"h-4 w-4 inline mr-2"}),"Weight (grams)"]}),e.jsx(l,{type:"number",step:"0.1",name:"weight",className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Finish Type"}),e.jsxs(l,{as:"select",name:"finishType",className:"form-select",children:[e.jsx("option",{value:"Polished",children:"Polished"}),e.jsx("option",{value:"Matte",children:"Matte"}),e.jsx("option",{value:"Brushed",children:"Brushed"}),e.jsx("option",{value:"Hammered",children:"Hammered"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(pe,{className:"h-4 w-4 inline mr-2"}),"Color Description"]}),e.jsx(l,{name:"colorDescription",className:"form-input",placeholder:"e.g., Deep green"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Carving Detail Level"}),e.jsx(l,{name:"carvingDetailLevel",className:"form-input",placeholder:"e.g., High, Medium"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Workmanship Grade"}),e.jsxs(l,{as:"select",name:"workmanshipGrade",className:"form-select",children:[e.jsx("option",{value:"Standard",children:"Standard"}),e.jsx("option",{value:"Fine",children:"Fine"}),e.jsx("option",{value:"Excellent",children:"Excellent"}),e.jsx("option",{value:"Masterpiece",children:"Masterpiece"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Base Included"}),e.jsx(l,{type:"checkbox",name:"baseIncluded",className:"form-checkbox"})]})]}),n==="Jewelry"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Metal Purity"}),e.jsxs(l,{as:"select",name:"metalPurity",className:"form-select",children:[e.jsx("option",{value:"",children:"Select purity"}),i.productType==="Jewelry"&&i.metal&&O[i.metal]?O[i.metal].map(a=>e.jsx("option",{value:a,children:a},a)):O.Other.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(L,{className:"h-4 w-4 inline mr-2"}),"Metal Weight (grams)"]}),e.jsx(l,{type:"number",step:"0.1",name:"metalWeight",className:"form-input",placeholder:"0.0"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Metal Color"}),e.jsxs(l,{as:"select",name:"metalColor",className:"form-select",children:[e.jsx("option",{value:"",children:"Select metal color"}),Ve.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Plating"}),e.jsxs(l,{as:"select",name:"plating",className:"form-select",children:[e.jsx("option",{value:"",children:"Select plating"}),He.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Ring Size"}),e.jsx(l,{type:"number",step:"0.5",name:"ringSize",className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Length (inches)"}),e.jsx(l,{type:"number",step:"0.1",name:"length",className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Adjustable"}),e.jsx(l,{type:"checkbox",name:"adjustable",className:"form-checkbox"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Size Range"}),e.jsx(l,{name:"sizeRange",className:"form-input",placeholder:"e.g., 5-8"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(U,{className:"h-4 w-4 inline mr-2"}),"Gemstones"]}),e.jsx(E,{name:"gemstones",children:({push:a,remove:h})=>e.jsxs("div",{className:"space-y-4",children:[i.productType==="Jewelry"&&i.gemstones.map((c,r)=>e.jsxs("div",{className:"border border-neutral-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h4",{className:"font-medium",children:["Gemstone ",r+1]}),e.jsx("button",{type:"button",onClick:()=>h(r),className:"text-red-600 hover:text-red-800",children:e.jsx(ye,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{children:e.jsx(l,{name:`gemstones.${r}.type`,className:"form-input",placeholder:"Gemstone type"})}),e.jsx("div",{children:e.jsx(l,{name:`gemstones.${r}.caratWeight`,type:"number",step:"0.01",className:"form-input",placeholder:"Carat weight"})}),e.jsx("div",{children:e.jsxs(l,{as:"select",name:`gemstones.${r}.settingType`,className:"form-select",children:[e.jsx("option",{value:"Prong",children:"Prong"}),e.jsx("option",{value:"Bezel",children:"Bezel"}),e.jsx("option",{value:"Pave",children:"Pave"}),e.jsx("option",{value:"Channel",children:"Channel"}),e.jsx("option",{value:"Invisible",children:"Invisible"})]})}),e.jsx("div",{children:e.jsx(l,{name:`gemstones.${r}.quality`,className:"form-input",placeholder:"Quality grade"})})]})]},r)),e.jsxs("button",{type:"button",onClick:()=>a({type:"",caratWeight:0,settingType:"Prong",quality:""}),className:"btn-secondary inline-flex items-center",children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),"Add Gemstone"]})]})})]})]})]}),e.jsxs("div",{className:"space-y-6 pt-8 mt-8 border-t",children:[e.jsx("h2",{className:"text-xl font-bold text-neutral-900 mb-6 border-b pb-2",children:"Business Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(Ne,{className:"h-4 w-4 inline mr-2"}),"Acquisition Date"]}),e.jsx(l,{type:"date",name:"acquisitionDate",className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Supplier Type"}),e.jsxs(l,{as:"select",name:"supplier",className:"form-select",children:[e.jsx("option",{value:"",children:"Select supplier type"}),ze.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(_,{className:"h-4 w-4 inline mr-2"}),"Storage Location"]}),e.jsxs(l,{as:"select",name:"storageLocation",className:"form-select",children:[e.jsx("option",{value:"",children:"Select storage location"}),Qe.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(z,{className:"h-4 w-4 inline mr-2"}),"Cost"]}),e.jsx(l,{type:"number",step:"0.01",name:"cost",className:"form-input"}),e.jsx(k,{name:"cost",component:"div",className:"text-red-600 text-sm mt-1"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(z,{className:"h-4 w-4 inline mr-2"}),"Retail Price"]}),e.jsx(l,{type:"number",step:"0.01",name:"price",className:"form-input"}),e.jsx(k,{name:"price",component:"div",className:"text-red-600 text-sm mt-1"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Markup %"}),e.jsx(l,{type:"number",step:"0.1",name:"markup",className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Reservation Status"}),e.jsxs(l,{as:"select",name:"reservationStatus",className:"form-select",children:[e.jsx("option",{value:"Available",children:"Available"}),e.jsx("option",{value:"Reserved",children:"Reserved"}),e.jsx("option",{value:"Sold",children:"Sold"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Inventory Quantity"}),e.jsx(l,{type:"number",name:"inventoryQuantity",className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Reorder Threshold"}),e.jsx(l,{type:"number",name:"reorderThreshold",className:"form-input"})]}),n==="LooseStone"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Lot Number"}),e.jsx(l,{name:"lotNumber",className:"form-input",placeholder:"Lot identification"})]}),n==="Jewelry"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Labor Cost"}),e.jsx(l,{type:"number",step:"0.01",name:"laborCost",className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Warranty"}),e.jsxs(l,{as:"select",name:"warranty",className:"form-select",children:[e.jsx("option",{value:"None",children:"None"}),e.jsx("option",{value:"1-Year",children:"1 Year"}),e.jsx("option",{value:"Lifetime",children:"Lifetime"})]})]})]})]}),e.jsxs("div",{className:"border-t border-neutral-200 pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"SEO & Marketing"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"SEO Title"}),e.jsx(l,{name:"seoTitle",className:"form-input",placeholder:"SEO optimized title"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Category Hierarchy"}),e.jsx(l,{name:"categoryHierarchy",className:"form-input",placeholder:"e.g., Jewelry > Rings > Engagement"})]}),e.jsxs("div",{className:"form-group md:col-span-2",children:[e.jsx("label",{className:"form-label",children:"SEO Description"}),e.jsx(l,{name:"seoDescription",as:"textarea",rows:3,className:"form-textarea",placeholder:"SEO meta description"})]}),e.jsxs("div",{className:"form-group md:col-span-2",children:[e.jsx("label",{className:"form-label",children:"Tags"}),e.jsx(E,{name:"tags",children:({push:a,remove:h})=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:i.tags.map((c,r)=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-primary-100 text-primary-800",children:[c,e.jsx("button",{type:"button",onClick:()=>h(r),className:"ml-2 text-primary-600 hover:text-primary-800",children:e.jsx(F,{className:"h-3 w-3"})})]},r))}),e.jsx("div",{className:"flex",children:e.jsx("input",{type:"text",className:"form-input",placeholder:"Add tag",onKeyPress:c=>{if(c.key==="Enter"){c.preventDefault();const r=c.target;r.value.trim()&&(a(r.value.trim()),r.value="")}}})})]})})]})]})]})]}),e.jsxs("div",{className:"space-y-6 pt-8 mt-8 border-t",children:[e.jsx("h2",{className:"text-xl font-bold text-neutral-900 mb-6 border-b pb-2",children:"Media"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4",children:[e.jsx(A,{className:"h-5 w-5 inline mr-2"}),"Product Media"]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Images"}),e.jsx(E,{name:"images",children:({push:a,remove:h})=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center",children:[e.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",id:"image-upload",onChange:c=>{Array.from(c.target.files||[]).forEach(x=>a(URL.createObjectURL(x)))}}),e.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[e.jsx(A,{className:"h-8 w-8 mx-auto text-neutral-400 mb-2"}),e.jsx("p",{className:"text-neutral-600",children:"Click to upload images or drag and drop"}),e.jsx("p",{className:"text-sm text-neutral-500",children:"PNG, JPG, GIF up to 10MB"})]})]}),i.images.length>0&&e.jsx("div",{className:"flex flex-wrap gap-4",children:i.images.map((c,r)=>e.jsx(Y,{item:{url:c,type:"image"},index:r,moveItem:(x,S)=>{const w=[...i.images],T=w[x];w.splice(x,1),w.splice(S,0,T),t("images",w)},removeItem:x=>{const S=[...i.images];S.splice(x,1),t("images",S)}},`image-${r}`))})]})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Videos"}),e.jsx(E,{name:"videos",children:({push:a,remove:h})=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-6 text-center",children:[e.jsx("input",{type:"file",multiple:!0,accept:"video/*",className:"hidden",id:"video-upload",onChange:c=>{Array.from(c.target.files||[]).forEach(x=>a(URL.createObjectURL(x)))}}),e.jsxs("label",{htmlFor:"video-upload",className:"cursor-pointer",children:[e.jsx(A,{className:"h-8 w-8 mx-auto text-neutral-400 mb-2"}),e.jsx("p",{className:"text-neutral-600",children:"Click to upload videos or drag and drop"}),e.jsx("p",{className:"text-sm text-neutral-500",children:"MP4, MOV up to 100MB"})]})]}),i.videos.length>0&&e.jsx("div",{className:"flex flex-wrap gap-4",children:i.videos.map((c,r)=>e.jsx(Y,{item:{url:c,type:"video"},index:r+i.images.length,moveItem:()=>{},removeItem:x=>{const S=[...i.videos];S.splice(x,1),t("videos",S)}},`video-${r}`))})]})})]})]})]}),e.jsxs("div",{className:"space-y-6 pt-8 mt-8 border-t",children:[e.jsx("h2",{className:"text-xl font-bold text-neutral-900 mb-6 border-b pb-2",children:"Platform Integration"}),e.jsxs("h3",{className:"text-lg font-semibold mb-4",children:[e.jsx(H,{className:"h-5 w-5 inline mr-2"}),"E-commerce Platform Integration"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Shopify ID"}),e.jsx(l,{name:"platformIds.shopifyId",className:"form-input",placeholder:"Shopify product ID"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Etsy ID"}),e.jsx(l,{name:"platformIds.etsyId",className:"form-input",placeholder:"Etsy listing ID"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"eBay ID"}),e.jsx(l,{name:"platformIds.ebayId",className:"form-input",placeholder:"eBay item ID"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Amazon ID"}),e.jsx(l,{name:"platformIds.amazonId",className:"form-input",placeholder:"Amazon ASIN"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Google Shopping ID"}),e.jsx(l,{name:"platformIds.googleShoppingId",className:"form-input",placeholder:"Google product ID"})]})]})]}),e.jsxs("div",{className:"space-y-6 pt-8 mt-8 border-t",children:[e.jsx("h2",{className:"text-xl font-bold text-neutral-900 mb-6 border-b pb-2",children:"Compliance & Insurance"}),e.jsxs("h3",{className:"text-lg font-semibold mb-4",children:[e.jsx(ue,{className:"h-5 w-5 inline mr-2"}),"Compliance & Insurance"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Insurance Value"}),e.jsx(l,{type:"number",step:"0.01",name:"insuranceValue",className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Appraisal Date"}),e.jsx(l,{type:"date",name:"appraisalDate",className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Tax Category"}),e.jsxs(l,{as:"select",name:"taxCategory",className:"form-select",children:[e.jsx("option",{value:"",children:"Select tax category"}),We.map(a=>e.jsx("option",{value:a,children:a},a))]})]})]})]})]}));return e.jsx(me,{backend:de,children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx(oe,{initialValues:b((s==null?void 0:s.productType)||"LooseStone"),validationSchema:u,onSubmit:m,children:({values:i,setFieldValue:t,isSubmitting:v,setValues:a})=>e.jsxs(ce,{className:"space-y-8",children:[e.jsx("div",{className:"min-h-[600px]",children:C(i,t,a)}),e.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-neutral-200",children:[e.jsxs("div",{className:"text-sm text-neutral-500",children:["* Required fields must be completed and ID must be valid before saving",!f&&i.id.trim()&&e.jsx("div",{className:"text-red-500 mt-1",children:"âš  Product ID validation required"})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>window.history.back(),children:"Cancel"}),e.jsx("button",{type:"submit",disabled:v||!f||!i.id.trim(),className:"btn-primary inline-flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:v?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Save Product"]})})]})]})]})})})})},os=()=>{const{id:s}=le(),m=ie(),{getProduct:n,addProduct:g,updateProduct:f}=re(),[y,N]=d.useState(null),[b,u]=d.useState(!!s),p=!!s;d.useEffect(()=>{s&&(u(!0),n(s).then(N).finally(()=>u(!1)))},[s,n]);const C=async i=>{try{p&&y?(await f(y.id,i),I.success("Product updated successfully!")):(await g(i),I.success("Product added successfully!")),m("/inventory")}catch(t){I.error("Failed to save product."),console.error(t)}};return b?e.jsx("div",{children:"Loading..."}):e.jsxs("div",{className:"container-page",children:[e.jsxs(ne,{to:"/inventory",className:"inline-flex items-center text-neutral-600 hover:text-neutral-900 mb-6",children:[e.jsx(be,{className:"h-4 w-4 mr-1"}),"Back to Inventory"]}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-neutral-900 mb-6",children:p?"Edit Product":"Add New Product"}),e.jsx($e,{product:y,onSubmit:C})]})]})};export{os as default};
